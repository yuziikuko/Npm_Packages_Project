(function(e,o){"object"===typeof exports&&"object"===typeof module?module.exports=o():"function"===typeof define&&define.amd?define([],o):"object"===typeof exports?exports["table-auto-scroll"]=o():e["table-auto-scroll"]=o()})("undefined"!==typeof self?self:this,(function(){return function(e){var o={};function t(r){if(o[r])return o[r].exports;var l=o[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,t),l.l=!0,l.exports}return t.m=e,t.c=o,t.d=function(e,o,r){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:r})},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var l in e)t.d(r,l,function(o){return e[o]}.bind(null,l));return r},t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="",t(t.s="fb15")}({"253a":function(e,o,t){},acfb:function(e,o,t){"use strict";t("253a")},fb15:function(e,o,t){"use strict";if(t.r(o),"undefined"!==typeof window){var r=window.document.currentScript,l=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);l&&(t.p=l[1])}var n=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"table-wrapper",on:{mouseenter:e.handleMouseEnter,mouseleave:e.handleMouseLeave}},[t("el-table",{ref:"table",attrs:{data:e.list,"header-row-style":e.calcHeadStyle,"row-style":e.calcRowStyle,"highlight-current-row":!1,height:e.tableHeight,border:""}},e._l(e.tableHeader,(function(e){return t("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,width:e.width,"show-overflow-tooltip":""}})})),1)],1)},i=[],c={data:function(){return{isScrollToBottom:!1,currentIndex:0,autoScrollTimer:null,userScrollTimer:null,isHovering:!1}},created:function(){var e=this;this.handleMouseEnter=this.$lodash.throttle((function(){e.isHovering=!0,e.stopAllScrolls()}),800,{leading:!0,trailing:!1}),this.handleMouseLeave=this.$lodash.debounce((function(){e.isHovering=!1,e.startAutoScroll()}),800,{leading:!1,trailing:!0})},computed:{scrollContainer:function(){var e;return null===(e=this.$refs.table)||void 0===e||null===(e=e.$el)||void 0===e?void 0:e.querySelector(".el-table__body-wrapper")},rowHeight:function(){var e;return null===(e=document.querySelector(".el-table__header-wrapper"))||void 0===e?void 0:e.clientHeight}},mounted:function(){this.initScrollEvents()},methods:{initScrollEvents:function(){var e,o=this;null===(e=this.scrollContainer)||void 0===e||e.addEventListener("scroll",(function(e){e.stopPropagation(),o.handleUserScroll(e)}))},handleMouseEnter:function(){},handleMouseLeave:function(){},stopAllScrolls:function(){this.stopAutoScroll(),this.stopUserScroll()},stopAutoScroll:function(){this.autoScrollTimer&&(clearInterval(this.autoScrollTimer),this.autoScrollTimer=null)},stopUserScroll:function(){this.userScrollTimer&&(clearTimeout(this.userScrollTimer),this.userScrollTimer=null)},startAutoScroll:function(){var e=this;this.isHovering||(this.stopAllScrolls(),this.autoScrollTimer=setInterval((function(){e.isScrollToBottom&&(e.currentIndex=0,e.isScrollToBottom=!1),e.currentIndex<e.list.length-1&&e.currentIndex++,e.handleAutoScroll()}),1500))},handleAutoScroll:function(){var e=this.scrollContainer;if(e)if(e.scrollHeight<=e.clientHeight)this.stopAutoScroll();else{var o=5,t=e.scrollTop>=e.scrollHeight-e.clientHeight-o;t?(this.isScrollToBottom=!0,this.scrollToPosition(0)):this.scrollToPosition(this.currentIndex*this.rowHeight)}},handleUserScroll:function(e){var o=this;this.stopAutoScroll();var t=e.target.scrollTop;this.currentIndex=Math.round(t/this.rowHeight),clearTimeout(this.userScrollTimer),this.userScrollTimer=setTimeout((function(){o.startAutoScroll()}),1e3)},scrollToPosition:function(e){var o=this.scrollContainer;o&&o.scrollTo({top:e,behavior:"smooth"})}},beforeRouteLeave:function(){this.stopAllScrolls(),this.$lodash.cancel(this.handleMouseEnter),this.$lodash.cancel(this.handleMouseLeave)}},a={name:"TableAutoScroll",mixins:[c],props:{tableHeader:{type:Array,required:!0},tableData:{type:Array,required:!0},theme:{type:String,default:"light",validator:function(e){return["dark","light"].includes(e)}},tableHeight:{type:String,default:"40vh"},headStyle:{type:Object,default:null},rowStyle:{type:Object,default:null}},data:function(){return{list:[],container:null}},watch:{tableData:{handler:function(e){e&&e.length?this.updateListData(e):this.list=[]},deep:!0}},methods:{calcHeadStyle:function(e){e.row,e.rowIndex;var o,t,r={light:{background:"linear-gradient(90deg, #e1f5fe, #b3e5fc)",color:"#0277bd"},dark:{background:"linear-gradient(90deg, #0a3b5c, #1a4d7c)",color:"#e0f2fe"}};return{background:(null===(o=this.headStyle)||void 0===o?void 0:o.background)||r[this.theme].background,color:(null===(t=this.headStyle)||void 0===t?void 0:t.color)||r[this.theme].color}},calcRowStyle:function(e){e.row;var o,t,r,l,n,i,c,a,d,s,u=e.rowIndex,h={light:{firstRow:{background:"linear-gradient(90deg, #a5d6a7, #c8e6c9)",color:"#1b5e20"},secondRow:{background:"linear-gradient(90deg, #c8e6c9, #e8f5e9)",color:"#2e7d32"},thirdRow:{background:"linear-gradient(90deg, #e8f5e9, #bbdefb)",color:"#0d47a1"},oddRow:{background:"linear-gradient(90deg, #fafafa, #f5f5f5)",color:"#333333"},evenRow:{background:"linear-gradient(90deg, #f5f5f5, #eeeeee)",color:"#333333"}},dark:{firstRow:{background:"linear-gradient(90deg, #2e7d32, #4caf50)",color:"#ffffff"},secondRow:{background:"linear-gradient(90deg, #4caf50, #81c784)",color:"#1b5e20"},thirdRow:{background:"linear-gradient(90deg, #81c784, #a5d6a7)",color:"#0d47a1"},oddRow:{background:"linear-gradient(90deg, #eceff1, #cfd8dc)",color:"#37474f"},evenRow:{background:"linear-gradient(90deg, #cfd8dc, #b0bec5)",color:"#37474f"}}};return 0===u?{background:(null===(o=this.rowStyle)||void 0===o||null===(o=o.firstRow)||void 0===o?void 0:o.background)||h[this.theme].firstRow.background,color:(null===(t=this.rowStyle)||void 0===t||null===(t=t.firstRow)||void 0===t?void 0:t.color)||h[this.theme].firstRow.color}:1===u?{background:(null===(r=this.rowStyle)||void 0===r||null===(r=r.secondRow)||void 0===r?void 0:r.background)||h[this.theme].secondRow.background,color:(null===(l=this.rowStyle)||void 0===l||null===(l=l.secondRow)||void 0===l?void 0:l.color)||h[this.theme].secondRow.color}:2===u?{background:(null===(n=this.rowStyle)||void 0===n||null===(n=n.thirdRow)||void 0===n?void 0:n.background)||h[this.theme].thirdRow.background,color:(null===(i=this.rowStyle)||void 0===i||null===(i=i.thirdRow)||void 0===i?void 0:i.color)||h[this.theme].thirdRow.color}:u%2!==0?{background:(null===(c=this.rowStyle)||void 0===c||null===(c=c.oddRow)||void 0===c?void 0:c.background)||h[this.theme].oddRow.background,color:(null===(a=this.rowStyle)||void 0===a||null===(a=a.oddRow)||void 0===a?void 0:a.color)||h[this.theme].oddRow.color}:u%2===0?{background:(null===(d=this.rowStyle)||void 0===d||null===(d=d.evenRow)||void 0===d?void 0:d.background)||h[this.theme].evenRow.background,color:(null===(s=this.rowStyle)||void 0===s||null===(s=s.evenRow)||void 0===s?void 0:s.color)||h[this.theme].evenRow.color}:void 0},updateListData:function(e){var o=this;this.list=e,this.$nextTick((function(){o.startAutoScroll()}))}}},d=a;t("acfb");function s(e,o,t,r,l,n,i,c){var a,d="function"===typeof e?e.options:e;if(o&&(d.render=o,d.staticRenderFns=t,d._compiled=!0),r&&(d.functional=!0),n&&(d._scopeId="data-v-"+n),i?(a=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),l&&l.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},d._ssrRegister=a):l&&(a=c?function(){l.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:l),a)if(d.functional){d._injectStyles=a;var s=d.render;d.render=function(e,o){return a.call(o),s(e,o)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,a):[a]}return{exports:e,options:d}}var u=s(d,n,i,!1,null,"379c7be2",null),h=u.exports,f=h;o["default"]=f}})}));